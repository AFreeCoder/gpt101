---
import WidgetWrapper from '~/components/ui/WidgetWrapper.astro';

interface Props {
  id?: string;
  isDark?: boolean;
  classes?: Record<string, string>;
  bg?: string;
}

const { id, isDark = false, classes = {}, bg = await Astro.slots.render('bg') } = Astro.props;

type ComparisonItem = {
  feature: string;
  mirror: string | boolean;
  plus: string | boolean;
  highlight?: 'network' | 'limit' | 'price';
  note?: string;
};

// å¯¹æ¯”æ•°æ®
const comparisonData: ComparisonItem[] = [
  { feature: 'ç½‘ç»œè¦æ±‚', mirror: 'å›½å†…ç½‘ç»œå¯ç”¨', plus: 'ç½‘ç»œæ¡ä»¶è§†åœ°åŒº/æ”¿ç­–è€Œå®š', highlight: 'network' },
  { feature: 'ä½¿ç”¨é™åˆ¶', mirror: 'æŒ‰å¥—é¤è¯´æ˜', plus: 'ä»¥å¹³å°æ”¿ç­–ä¸ºå‡†', highlight: 'limit' },
  { feature: 'ä»·æ ¼å¯¹æ¯”', mirror: 'Â¥5/å¤©ï¼ŒÂ¥25/å‘¨ï¼ŒÂ¥58/æœˆ', plus: 'Â¥144/æœˆ', highlight: 'price' },
  { feature: 'ä¸»æµæ¨¡å‹æ”¯æŒ', mirror: 'æ”¯æŒå¤šç§æ¨¡å‹', plus: 'æ”¯æŒå¤šç§æ¨¡å‹' },
  { feature: 'GPTså•†åº—', mirror: 'è§†å¥—é¤ä¸ç½‘ç»œæƒ…å†µ', plus: 'ä»¥å¹³å°æ”¿ç­–ä¸ºå‡†' },
  { feature: 'é«˜çº§è¯­éŸ³æ¨¡å¼', mirror: 'è§†å¥—é¤ä¸ç½‘ç»œæƒ…å†µ', plus: 'ä»¥å¹³å°æ”¿ç­–ä¸ºå‡†' },
  { feature: 'GPT-4o ç”»å›¾', mirror: 'è§†å¥—é¤ä¸ç½‘ç»œæƒ…å†µ', plus: 'ä»¥å¹³å°æ”¿ç­–ä¸ºå‡†' },
  { feature: 'è´¦å·å½¢å¼', mirror: 'é•œåƒè´¦å·', plus: 'å¹³å°è´¦å·' },
  { feature: 'ç½‘é¡µç«¯ç™»å½•', mirror: 'æ”¯æŒ', plus: 'æ”¯æŒ' },
  { feature: 'APPç™»å½•', mirror: 'è§†å¥—é¤ä¸ç½‘ç»œæƒ…å†µ', plus: 'æ”¯æŒï¼ˆä»¥å¹³å°è§„åˆ™ä¸ºå‡†ï¼‰' },
];
---

<WidgetWrapper id={id} isDark={isDark} containerClass={`max-w-6xl ${classes?.container ?? ''}`} bg={bg}>
  <div class="text-center mb-12">
    <h2 class="text-3xl md:text-4xl font-bold text-gray-800 mb-4">ğŸ“Š GPT é•œåƒ VS Plus ä¼šå‘˜åŠŸèƒ½å¯¹æ¯”</h2>
    <p class="text-lg text-gray-600">åŠŸèƒ½å¯¹æ¯”ä¸€ç›®äº†ç„¶ï¼Œé€‰æ‹©æœ€é€‚åˆä½ çš„æ–¹æ¡ˆ</p>
  </div>

  {/* å¯¹æ¯”è¡¨æ ¼ */}
  <div class="bg-white rounded-2xl shadow-lg border border-gray-100 overflow-hidden">
    <div class="overflow-x-auto">
      <table class="w-full">
        {/* è¡¨å¤´ */}
        <thead class="bg-gray-50">
          <tr>
            <th class="px-6 py-4 text-left text-lg font-bold text-gray-800 w-1/3">åŠŸèƒ½</th>
            <th class="px-6 py-4 text-center text-lg font-bold text-green-600 w-1/3">é•œåƒæœåŠ¡</th>
            <th class="px-6 py-4 text-center text-lg font-bold text-blue-600 w-1/3">Plusä¼šå‘˜</th>
          </tr>
        </thead>

        {/* è¡¨æ ¼å†…å®¹ */}
        <tbody class="divide-y divide-gray-200">
          {
            comparisonData.map((item) => {
              let rowClass = 'hover:bg-gray-50 transition-colors';
              let featureClass = 'text-gray-800';

              if (item.highlight === 'network') {
                rowClass = 'bg-blue-50 border-blue-200 hover:bg-blue-100 transition-colors';
                featureClass = 'text-blue-800 font-semibold';
              } else if (item.highlight === 'limit') {
                rowClass = 'bg-green-50 border-green-200 hover:bg-green-100 transition-colors';
                featureClass = 'text-green-800 font-semibold';
              } else if (item.highlight === 'price') {
                rowClass = 'bg-yellow-50 border-yellow-200 hover:bg-yellow-100 transition-colors border-2';
                featureClass = 'text-yellow-800 font-bold';
              }

              return (
                <tr class={rowClass}>
                  {/* åŠŸèƒ½åç§° */}
                  <td class={`px-6 py-4 font-medium ${featureClass}`}>
                    {item.highlight && (
                      <span class="mr-2">
                        {item.highlight === 'network' && 'ğŸŒ'}
                        {item.highlight === 'limit' && 'âš¡'}
                        {item.highlight === 'price' && 'ğŸ’°'}
                      </span>
                    )}
                    {item.feature}
                  </td>

                  {/* é•œåƒæœåŠ¡ */}
                  <td class="px-6 py-4 text-center">
                    {typeof item.mirror === 'boolean' ? (
                      item.mirror ? (
                        <span class="inline-flex items-center justify-center w-6 h-6 bg-green-100 rounded-full">
                          <svg class="w-4 h-4 text-green-600" fill="currentColor" viewBox="0 0 20 20">
                            <path
                              fill-rule="evenodd"
                              d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z"
                              clip-rule="evenodd"
                            />
                          </svg>
                        </span>
                      ) : (
                        <div class="text-center">
                          <span class="inline-flex items-center justify-center w-6 h-6 bg-red-100 rounded-full">
                            <svg class="w-4 h-4 text-red-600" fill="currentColor" viewBox="0 0 20 20">
                              <path
                                fill-rule="evenodd"
                                d="M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z"
                                clip-rule="evenodd"
                              />
                            </svg>
                          </span>
                          {item.note && <div class="text-xs text-gray-500 mt-1">{item.note}</div>}
                        </div>
                      )
                    ) : (
                      <span
                        class={`text-sm font-medium ${
                          item.highlight === 'network'
                            ? 'text-green-700 font-bold bg-green-100 px-3 py-1 rounded-full'
                            : item.highlight === 'limit'
                              ? 'text-green-700 font-bold bg-green-100 px-3 py-1 rounded-full'
                              : item.highlight === 'price'
                                ? 'text-green-700 font-bold bg-green-100 px-3 py-1 rounded-full'
                                : 'text-gray-700'
                        }`}
                      >
                        {item.mirror}
                      </span>
                    )}
                  </td>

                  {/* Plusä¼šå‘˜ */}
                  <td class="px-6 py-4 text-center">
                    {typeof item.plus === 'boolean' ? (
                      item.plus ? (
                        <span class="inline-flex items-center justify-center w-6 h-6 bg-green-100 rounded-full">
                          <svg class="w-4 h-4 text-green-600" fill="currentColor" viewBox="0 0 20 20">
                            <path
                              fill-rule="evenodd"
                              d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z"
                              clip-rule="evenodd"
                            />
                          </svg>
                        </span>
                      ) : (
                        <span class="inline-flex items-center justify-center w-6 h-6 bg-red-100 rounded-full">
                          <svg class="w-4 h-4 text-red-600" fill="currentColor" viewBox="0 0 20 20">
                            <path
                              fill-rule="evenodd"
                              d="M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z"
                              clip-rule="evenodd"
                            />
                          </svg>
                        </span>
                      )
                    ) : (
                      <span
                        class={`text-sm font-medium ${
                          item.highlight === 'network'
                            ? 'text-red-700 font-bold bg-red-100 px-3 py-1 rounded-full'
                            : item.highlight === 'limit'
                              ? 'text-red-700 font-bold bg-red-100 px-3 py-1 rounded-full'
                              : item.highlight === 'price'
                                ? 'text-red-700 font-bold bg-red-100 px-3 py-1 rounded-full'
                                : 'text-gray-700'
                        }`}
                      >
                        {item.plus}
                      </span>
                    )}
                  </td>
                </tr>
              );
            })
          }
        </tbody>
      </table>
    </div>
  </div>

  {/* åº•éƒ¨è¯´æ˜ */}
  <div class="mt-8 text-center">
    <div class="inline-flex items-center gap-3 bg-blue-50 border border-blue-200 rounded-xl px-6 py-4">
      <div class="w-8 h-8 bg-blue-100 rounded-full flex items-center justify-center">
        <span class="text-blue-600 text-lg">ğŸ’¡</span>
      </div>
      <p class="text-blue-800 font-medium">
        é•œåƒæœåŠ¡é€‚åˆç½‘ç»œæ¡ä»¶å—é™ã€ä¸­é«˜é¢‘ä½¿ç”¨çš„ç”¨æˆ·ï¼›Plusä¼šå‘˜é€‚åˆéœ€è¦å®Œæ•´ç§»åŠ¨ç«¯ä½“éªŒã€å¯¹è¯è®°å¿†ã€Codexä½“éªŒçš„ç”¨æˆ·
      </p>
    </div>
  </div>
</WidgetWrapper>
