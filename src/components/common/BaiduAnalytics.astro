---
/**
 * 百度统计组件
 * 用于在网站中集成百度统计代码
 */

interface Props {
  id: string; // 百度统计站点ID
}

const { id } = Astro.props;

// 生成百度统计代码 - 使用 async 加载避免阻塞
const baiduScript = `
  window._hmt = window._hmt || [];
  (function() {
    var hm = document.createElement("script");
    hm.src = "https://hm.baidu.com/hm.js?${id}";
    hm.async = true;
    var s = document.getElementsByTagName("script")[0];
    s.parentNode.insertBefore(hm, s);
  })();
`;
---

{id && <script is:inline set:html={baiduScript} />}
