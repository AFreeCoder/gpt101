---
import Layout from '~/layouts/PageLayout.astro';

import Hero from '~/components/widgets/Hero.astro';
import ServiceComparison from '~/components/widgets/ServiceComparison.astro';
import CustomerSupport from '~/components/widgets/CustomerSupport.astro';

import { siteConfig } from '~/config/site';

const metadata = {
  title: 'ChatGPT 镜像服务 - 国内直连，无需翻墙',
  description: 'ChatGPT镜像服务，国内网络直连访问，支持GPT-4、GPTs商店、Dell-3画图等全功能，天卡¥5起',
  ignoreTitleTemplate: true,
};
---

<Layout metadata={metadata}>
  <!-- Hero Widget ******************* -->
  <Hero compact>
    <Fragment slot="title">
      <!-- 大标题 -->
      <h1 class="text-8xl md:text-8xl font-bold mb-6">
        <span class="bg-gradient-to-r from-green-600 to-blue-600 bg-clip-text text-transparent">
          ChatGPT 镜像
        </span>
        <br>
        <span class="text-gray-800">服务</span>
      </h1>
    </Fragment>

    <Fragment slot="content">
      <div class="text-center max-w-4xl mx-auto">

        <!-- 打字机效果核心特点 -->
        <div class="mb-8">
          <div id="typewriter" class="text-2xl md:text-3xl font-semibold text-green-600 min-h-[3rem] flex items-center justify-center">
            <!-- 打字机内容将通过JavaScript动态插入 -->
          </div>
        </div>

        <!-- 副标题 -->
        <p class="text-lg text-gray-600 mb-8 max-w-3xl mx-auto leading-relaxed">
          专业ChatGPT镜像服务，国内网络直连，无需科学上网工具<br>
          支持GPT-5、GPTs商店、Dell-3画图等完整功能，体验与官方一致
        </p>

        <!-- 三个按钮 -->
        <div class="flex flex-col sm:flex-row gap-4 justify-center items-center mb-4">
          <a href={siteConfig.mirrorPage.links.purchase} target="_blank"
             class="bg-gradient-to-r from-green-600 to-blue-600 hover:from-green-700 hover:to-blue-700 text-white px-8 py-3 rounded-xl font-bold transition-all duration-300 shadow-lg">
            {siteConfig.mirrorPage.buttons.purchase}
          </a>
          <a href={siteConfig.mirrorPage.links.query}
             class="bg-gray-100 hover:bg-gray-200 text-gray-700 px-8 py-3 rounded-xl font-semibold transition-all duration-300">
            {siteConfig.mirrorPage.buttons.query}
          </a>
        </div>

        <!-- 服务保障 -->
        <div class="text-center mt-8">
          <div class="inline-flex items-center gap-3 bg-green-50 border border-green-200 rounded-xl px-6 py-4 shadow-sm">
            <div class="w-8 h-8 bg-green-100 rounded-full flex items-center justify-center">
              <svg class="w-5 h-5 text-green-600" fill="currentColor" viewBox="0 0 20 20">
                <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd"></path>
              </svg>
            </div>
            <p class="text-green-800 font-semibold">
              服务保障：支持天、周、月灵活充值，完整功能无使用限制
            </p>
          </div>
        </div>

        <!-- 代充服务横幅 -->
        <div class="mt-12 max-w-5xl mx-auto">
          <div class="bg-gradient-to-r from-blue-50 to-purple-50 border border-blue-100 rounded-xl p-4">
            <div class="flex flex-col sm:flex-row items-center justify-between gap-4">
              <!-- 左侧文案 -->
              <div class="flex items-center gap-3 text-center sm:text-left">
                <div class="w-8 h-8 bg-blue-100 rounded-full flex items-center justify-center flex-shrink-0">
                  <svg class="w-4 h-4 text-blue-600" fill="currentColor" viewBox="0 0 20 20">
                    <path fill-rule="evenodd" d="M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z" clip-rule="evenodd"></path>
                  </svg>
                </div>
                <div class="flex flex-col sm:flex-row items-center gap-2">
                  <span class="text-gray-700 font-medium">需要官方Plus原汁原味体验？</span>
                  <span class="text-gray-600 font-medium">选择官方Plus代充（充你的号）</span>
                  <span class="text-blue-600 font-semibold">→ 享受Plus官方功能</span>
                </div>
              </div>
              <!-- 右侧按钮 -->
              <div class="flex-shrink-0">
                <a href={siteConfig.mirrorPage.links.plusRecharge}
                   class="inline-flex items-center gap-2 bg-blue-600 hover:bg-blue-700 text-white px-5 py-2.5 rounded-lg font-medium text-sm transition-all duration-300 shadow-sm hover:shadow-md">
                  <span>{siteConfig.mirrorPage.buttons.plusRecharge}</span>
                  <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"></path>
                  </svg>
                </a>
              </div>
            </div>
          </div>
        </div>
      </div>

      <!-- 打字机效果JavaScript -->
      <script>
        document.addEventListener('DOMContentLoaded', function() {
          const typewriterElement = document.getElementById('typewriter');
          if (!typewriterElement) return;

          const texts = [
            '国内网络直接访问',
            '月卡仅需 58 元',
            '支持所有GPT模型',
            '无使用限制'
          ];

          let currentTextIndex = 0;
          let currentCharIndex = 0;
          let isDeleting = false;

          function typeWriter() {
            if (!typewriterElement) return;
            const currentText = texts[currentTextIndex];

            if (isDeleting) {
              typewriterElement.textContent = currentText.substring(0, currentCharIndex - 1);
              currentCharIndex--;

              if (currentCharIndex === 0) {
                isDeleting = false;
                currentTextIndex = (currentTextIndex + 1) % texts.length;
                setTimeout(typeWriter, 500); // 停顿500ms
                return;
              }
            } else {
              typewriterElement.textContent = currentText.substring(0, currentCharIndex + 1);
              currentCharIndex++;

              if (currentCharIndex === currentText.length) {
                setTimeout(() => {
                  isDeleting = true;
                  typeWriter();
                }, 2000); // 完整显示2秒
                return;
              }
            }

            setTimeout(typeWriter, isDeleting ? 50 : 100);
          }

          typeWriter();
        });
      </script>
    </Fragment>
  </Hero>

  <!-- Service Comparison Section ******************* -->
  <ServiceComparison id="comparison">
    <Fragment slot="bg">
      <div class="absolute inset-0 bg-gray-50 dark:bg-transparent"></div>
    </Fragment>
  </ServiceComparison>

  <!-- Customer Support Section ******************* -->
  <CustomerSupport id="customer-support">
    <Fragment slot="bg">
      <div class="absolute inset-0 bg-white dark:bg-transparent"></div>
    </Fragment>
  </CustomerSupport>
</Layout>